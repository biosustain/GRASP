

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Import simulation data &mdash; GRASP 2.0.0 documentation</title>
  

  
  
  
  
  
  
  
  
  <meta name="theme-color" content="#ffffff">


  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  <script src="https://code.jquery.com/jquery-1.11.2.min.js"></script>
  <script src="../../_static/js/jquery.easy-autocomplete.min.js" type="text/javascript" ></script>

    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
  
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>
  <link href="../../_static/css/easy-autocomplete.min.css" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

  
  
    

  

  
  
    <link rel="stylesheet" href="../../_static/css/cobra.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="../../genindex.html"/>
        <link rel="search" title="Search" href="../../search.html"/>
    <link rel="top" title="GRASP 2.0.0 documentation" href="../../index.html"/>
        <link rel="up" title="Simulation visualization" href="../simulation_viz.html"/>
        <link rel="next" title="Visualize simulations" href="visualize_simulations.html"/>
        <link rel="prev" title="Check simulations" href="check_simulations.html"/> 

  
  <script src="../../_static/js/modernizr.min.js"></script>
</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../index.html" class="icon icon-home"> GRASP
          

          
          </a>
          <h1>GRASP</h1>

          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" id="simple"/>
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
    <script>
    	var options = {

		url: "../../_static/json/functions.json",

		getValue: "name",

		list: {
            onKeyEnterEvent: function(item) {
                    return "_static/../" + item.website_url
            },
            maxNumberOfElements: 25,
			match: {
					enabled: true,
			},
            sort: {
			    enabled: true
		    }
		},

    	template: {
	    	type: "custom",
		    method: function(value, item) {
                return "<span><a href='../../search.html?q=" + item.name + "&check_keywords=yes&area=default'>" + value + "</a>" + "<a href='../../_static/../" + item.website_url + "' ><img src='../../_static/link.svg'/></a></span>";
		    }
	    },

		theme: "square"

	};

	$("#simple").easyAutocomplete(options);


    </script>
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
              <ul class="current">
                  <li class="toctree-l1"><a class="reference internal" href="../../index.html">Home</a></li>
              </ul>
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../how_to_build_a_model.html">How to build a model</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../model_analysis.html">Model analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../visualization.html">Visualizing results</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tutorials.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../how_to_contribute.html">How to contribute</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../api_doc.html">API documentation</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../ensemble_functions.html">Ensemble functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../pattern_functions.html">Pattern functions</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../simulation_viz.html">Simulation visualization</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="check_simulations.html">Check simulations</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Import simulation data</a></li>
<li class="toctree-l3"><a class="reference internal" href="visualize_simulations.html">Visualize simulations</a></li>
<li class="toctree-l3"><a class="reference internal" href="visualize_simulations_interactive.html">Visualize simulations, interactively</a></li>
</ul>
</li>
</ul>
</li>
</ul>

          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">GRASP</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../../api_doc.html">API documentation</a> &raquo;</li>
        
          <li><a href="../simulation_viz.html">Simulation visualization</a> &raquo;</li>
        
      <li>Import simulation data</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/api_doc/simulation_viz/import_simulation_data.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="https://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="import-simulation-data">
<h1>Import simulation data<a class="headerlink" href="#import-simulation-data" title="Permalink to this headline">¶</a></h1>
<p>This module implements functions to import and process simulation data.</p>
<span class="target" id="module-src.import_simulation_data"></span><dl class="function">
<dt id="src.import_simulation_data.gather_sim_data">
<code class="sig-name descname">gather_sim_data</code><span class="sig-paren">(</span><em class="sig-param">mat: dict</em>, <em class="sig-param">met_names: list</em>, <em class="sig-param">rxn_names: list</em>, <em class="sig-param">n_models: int</em>, <em class="sig-param">time_points_spline: list</em>, <em class="sig-param">save_concs: bool = False</em>, <em class="sig-param">save_fluxes: bool = False</em>, <em class="sig-param">ref_conc_dic: dict = None</em><span class="sig-paren">)</span> &#x2192; tuple<a class="headerlink" href="#src.import_simulation_data.gather_sim_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Imports the data from the matlab simulation results. Since the time points for which there are concentrations
may not be the same for all models, it interpolates concentrations and fluxes, and stores the values at certain
time points (defined in <cite>time_points_spline</cite>). Also, for long simulations, this saves a lot of space.</p>
<p>Setting save_concs and/or save_fluxes to true may lead to a very large dataframe that occupies a lot of memory, so
for larger models or just a large number of models, it is advised to set these variables to false.</p>
<p>If a dictionary with reference concentrations is supplied the resulting dataframe will also contain a column with
unscaled concentrations (named concentrations_unscaled), i.e. absolute concentrations.</p>
<p><strong>Inputs</strong></p>
<blockquote>
<div><ul class="simple">
<li><p><strong>mat</strong> –
matlab structures with simulation results.</p></li>
<li><p><strong>met_names</strong> –
names of the simulated metabolites in the model.</p></li>
<li><p><strong>rxn_names</strong> –
names of the simulated reactions in the model.</p></li>
<li><p><strong>n_models</strong> –
number of models to be simulated.</p></li>
<li><p><strong>time_points_spline</strong> –
time points for which concentration and flux values will be returned.</p></li>
<li><p><strong>save_concs</strong> –
whether or not to save all concentration values.</p></li>
<li><p><strong>save_fluxes</strong> –
whether or not to save all flux values.</p></li>
<li><p><strong>ref_conc_dic</strong> –
a dictionary with the metabolites reference concentrations in each model.</p></li>
</ul>
</div></blockquote>
<p><strong>Outputs</strong></p>
<blockquote>
<div><ul class="simple">
<li><p><strong>A pandas dataframe with all concentration values (if save_concs==True), a pandas dataframe with concentration</strong></p></li>
<li><p><strong>values at the time points in `time_points_spline`, and a pandas dataframe with flux values at the time points</strong></p></li>
<li><p><strong>in `time_points_spline`.</strong></p></li>
</ul>
</div></blockquote>
</dd></dl>

<dl class="function">
<dt id="src.import_simulation_data.get_met_rxn_names">
<code class="sig-name descname">get_met_rxn_names</code><span class="sig-paren">(</span><em class="sig-param">raw_data_dir: str</em>, <em class="sig-param">model_name: str</em><span class="sig-paren">)</span> &#x2192; tuple<a class="headerlink" href="#src.import_simulation_data.get_met_rxn_names" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the names of metabolites and reactions in the model.</p>
<p><strong>Inputs</strong></p>
<blockquote>
<div><ul class="simple">
<li><p><strong>raw_data_dir</strong> –
path to folder with the raw data.</p></li>
<li><p><strong>model_name</strong> –
named of the model.</p></li>
</ul>
</div></blockquote>
<p><strong>Output</strong></p>
<blockquote>
<div><ul class="simple">
<li><p><strong>A list with the metabolite names and another with the reaction names.</strong></p></li>
</ul>
</div></blockquote>
</dd></dl>

<dl class="function">
<dt id="src.import_simulation_data.get_time_series_quantiles">
<code class="sig-name descname">get_time_series_quantiles</code><span class="sig-paren">(</span><em class="sig-param">data_df: pandas.core.frame.DataFrame</em>, <em class="sig-param">time_points: list</em>, <em class="sig-param">quant_type: str</em>, <em class="sig-param">name_list: list</em><span class="sig-paren">)</span> &#x2192; pandas.core.frame.DataFrame<a class="headerlink" href="#src.import_simulation_data.get_time_series_quantiles" title="Permalink to this definition">¶</a></dt>
<dd><p>Takes in a dataframe with either fluxes or concentrations and calculates the median and respective first and third
quartiles for each flux or metabolite at a given time point over the whole model ensemble.</p>
<p><strong>Inputs</strong></p>
<blockquote>
<div><ul class="simple">
<li><p><strong>data_df</strong> –
dataframe with concentrations or fluxes for each time point and model.</p></li>
<li><p><strong>time_points</strong> –
time points for which there are concentrations or fluxes.</p></li>
<li><p><strong>quant_type</strong> –
whether the data frame contains concentrations (‘conc’), unscaled concentrations (‘conc_unscaled’),
or fluxes (‘flux’).</p></li>
<li><p><strong>name_list</strong> –
reaction or metabolite names, depending on what that the dataframe contains.</p></li>
</ul>
</div></blockquote>
<p><strong>Output</strong></p>
<blockquote>
<div><ul class="simple">
<li><p><strong>A pandas dataframe with the concentrations/fluxes median and 1st and 3rd quartiles for each metabolite/reaction.</strong></p></li>
</ul>
</div></blockquote>
</dd></dl>

<dl class="function">
<dt id="src.import_simulation_data.import_ref_conc">
<code class="sig-name descname">import_ref_conc</code><span class="sig-paren">(</span><em class="sig-param">mat: dict</em>, <em class="sig-param">n_models: int</em>, <em class="sig-param">met_names: list</em><span class="sig-paren">)</span> &#x2192; dict<a class="headerlink" href="#src.import_simulation_data.import_ref_conc" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts a .mat file from matlab into a dictionary with reference concentrations for each model.
Metabolites are the keys, lists of concentrations are the values, where each entry is the concentration for a model.</p>
<p><strong>Inputs</strong></p>
<blockquote>
<div><ul class="simple">
<li><p><strong>mat</strong> –
ensemble .mat file from matlab in form of dictionary.</p></li>
<li><p><strong>n_models</strong> –
number of models to consider.</p></li>
<li><p><strong>met_names</strong> –
name of the metabolites.</p></li>
</ul>
</div></blockquote>
<p><strong>Output</strong></p>
<blockquote>
<div><ul class="simple">
<li><p><strong>A dictionary with the reference metabolite concentrations for each model.</strong></p></li>
</ul>
</div></blockquote>
</dd></dl>

</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="visualize_simulations.html" class="btn btn-default float-right" title="Visualize simulations" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="check_simulations.html" class="btn btn-default" title="Check simulations" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016-2019, The GRASP developers.

    </p>
  </div>
  Built with Sphinx using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'2.0.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/language_data.js"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/gh/mathjax/MathJax@2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  


  
  
    <script type="text/javascript" src="../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>