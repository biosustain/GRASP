

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Check simulations &mdash; GRASP 2.0.0 documentation</title>
  

  
  
  
  
  
  
  
  
  <meta name="theme-color" content="#ffffff">


  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  <script src="https://code.jquery.com/jquery-1.11.2.min.js"></script>
  <script src="../../_static/js/jquery.easy-autocomplete.min.js" type="text/javascript" ></script>

    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
  
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>
  <link href="../../_static/css/easy-autocomplete.min.css" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

  
  
    

  

  
  
    <link rel="stylesheet" href="../../_static/css/cobra.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="../../genindex.html"/>
        <link rel="search" title="Search" href="../../search.html"/>
    <link rel="top" title="GRASP 2.0.0 documentation" href="../../index.html"/>
        <link rel="up" title="Simulation visualization" href="../simulation_viz.html"/>
        <link rel="next" title="Import simulation data" href="import_simulation_data.html"/>
        <link rel="prev" title="Simulation visualization" href="../simulation_viz.html"/> 

  
  <script src="../../_static/js/modernizr.min.js"></script>
</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../index.html" class="icon icon-home"> GRASP
          

          
          </a>
          <h1>GRASP</h1>

          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" id="simple"/>
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
    <script>
    	var options = {

		url: "../../_static/json/functions.json",

		getValue: "name",

		list: {
            onKeyEnterEvent: function(item) {
                    return "_static/../" + item.website_url
            },
            maxNumberOfElements: 25,
			match: {
					enabled: true,
			},
            sort: {
			    enabled: true
		    }
		},

    	template: {
	    	type: "custom",
		    method: function(value, item) {
                return "<span><a href='../../search.html?q=" + item.name + "&check_keywords=yes&area=default'>" + value + "</a>" + "<a href='../../_static/../" + item.website_url + "' ><img src='../../_static/link.svg'/></a></span>";
		    }
	    },

		theme: "square"

	};

	$("#simple").easyAutocomplete(options);


    </script>
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
              <ul class="current">
                  <li class="toctree-l1"><a class="reference internal" href="../../index.html">Home</a></li>
              </ul>
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../how_to_build_a_model.html">How to build a model</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../model_analysis.html">Model analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../visualization.html">Visualizing results</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tutorials.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../how_to_contribute.html">How to contribute</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../api_doc.html">API documentation</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../ensemble_functions.html">Ensemble functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../pattern_functions.html">Pattern functions</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../simulation_viz.html">Simulation visualization</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">Check simulations</a></li>
<li class="toctree-l3"><a class="reference internal" href="import_simulation_data.html">Import simulation data</a></li>
<li class="toctree-l3"><a class="reference internal" href="visualize_simulations.html">Visualize simulations</a></li>
<li class="toctree-l3"><a class="reference internal" href="visualize_simulations_interactive.html">Visualize simulations, interactively</a></li>
</ul>
</li>
</ul>
</li>
</ul>

          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">GRASP</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../../api_doc.html">API documentation</a> &raquo;</li>
        
          <li><a href="../simulation_viz.html">Simulation visualization</a> &raquo;</li>
        
      <li>Check simulations</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/api_doc/simulation_viz/check_simulations.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="https://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="check-simulations">
<h1>Check simulations<a class="headerlink" href="#check-simulations" title="Permalink to this headline">¶</a></h1>
<p>This module implements functions that do some quality check on the model simulation results.</p>
<span class="target" id="module-src.check_simulations"></span><dl class="function">
<dt id="src.check_simulations.check_for_negative_concentrations">
<code class="sig-name descname">check_for_negative_concentrations</code><span class="sig-paren">(</span><em class="sig-param">data_df: pandas.core.frame.DataFrame</em>, <em class="sig-param">scaled: bool</em>, <em class="sig-param">threshold: float = -1e-08</em><span class="sig-paren">)</span><a class="headerlink" href="#src.check_simulations.check_for_negative_concentrations" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks if all concentrations are higher than the given threshold. The idea is to make sure that there are no
negative concentrations.</p>
<p><strong>Inputs</strong></p>
<blockquote>
<div><ul class="simple">
<li><p><strong>data_df</strong> –
a pandas dataframe with a concentrations or concentrations_unscaled column.</p></li>
<li><p><strong>scaled</strong> –
whether or not one wants to focus on scaled concentrations.</p></li>
<li><p><strong>threshold</strong> –
value to use to check if the concentrations are higher than that.</p></li>
</ul>
</div></blockquote>
<p><strong>Output</strong></p>
<blockquote>
<div><ul class="simple">
<li><p><strong>None</strong></p></li>
</ul>
</div></blockquote>
</dd></dl>

<dl class="function">
<dt id="src.check_simulations.get_non_converging_models">
<code class="sig-name descname">get_non_converging_models</code><span class="sig-paren">(</span><em class="sig-param">conc_df_interp: pandas.core.frame.DataFrame</em>, <em class="sig-param">n_models: int</em>, <em class="sig-param">met_names: list</em>, <em class="sig-param">rel_tol: float = 0.005</em><span class="sig-paren">)</span> &#x2192; list<a class="headerlink" href="#src.check_simulations.get_non_converging_models" title="Permalink to this definition">¶</a></dt>
<dd><p>Goes through every model and every metabolite time course, gets the last three time points in the simulation and
checks if the difference between each pair of concentration values is greater than last_concentration_value*rel_tol,
where the relative tolerance is defined by the user. If this is false, the model is considered to not converge.</p>
<p><strong>Inputs</strong></p>
<blockquote>
<div><ul class="simple">
<li><p><strong>conc_df_interp</strong> –
dataframe with the interpolated concentrations.</p></li>
<li><p><strong>n_models</strong> –
number of models in the dataframe.</p></li>
<li><p><strong>met_names</strong> –
name of all metabolites.</p></li>
<li><p><strong>rel_tol</strong> –
relative tolerance to use when checking if the model is converging.</p></li>
</ul>
</div></blockquote>
<p><strong>Output</strong></p>
<blockquote>
<div><ul class="simple">
<li><p><strong>A list with all model numbers that are considered to not converge.</strong></p></li>
</ul>
</div></blockquote>
</dd></dl>

<dl class="function">
<dt id="src.check_simulations.remove_models">
<code class="sig-name descname">remove_models</code><span class="sig-paren">(</span><em class="sig-param">conc_df: pandas.core.frame.DataFrame</em>, <em class="sig-param">flux_df: pandas.core.frame.DataFrame</em>, <em class="sig-param">model_list: list</em><span class="sig-paren">)</span> &#x2192; tuple<a class="headerlink" href="#src.check_simulations.remove_models" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes all models in model_list from concentration and flux dataframes.</p>
<p><strong>Inputs</strong></p>
<blockquote>
<div><ul class="simple">
<li><p><strong>conc_df</strong> –
dataframe with metabolite concentrations.</p></li>
<li><p><strong>flux_df</strong> –
dataframe with reactions flux values.</p></li>
<li><p><strong>model_list</strong> –
list of models to be removed from dataframes.</p></li>
</ul>
</div></blockquote>
<p><strong>Output</strong></p>
<blockquote>
<div><ul class="simple">
<li><p><strong>The concentration and flux dataframes with models in model_list removed.</strong></p></li>
</ul>
</div></blockquote>
</dd></dl>

</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="import_simulation_data.html" class="btn btn-default float-right" title="Import simulation data" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../simulation_viz.html" class="btn btn-default" title="Simulation visualization" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016-2019, The GRASP developers.

    </p>
  </div>
  Built with Sphinx using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'2.0.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/language_data.js"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/gh/mathjax/MathJax@2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  


  
  
    <script type="text/javascript" src="../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>