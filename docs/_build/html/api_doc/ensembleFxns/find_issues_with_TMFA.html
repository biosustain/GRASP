

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Find issues with TMFA &mdash; GRASP 2.0.0 documentation</title>
  

  
  
  
  
  
  
  
  
  <meta name="theme-color" content="#ffffff">


  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  <script src="https://code.jquery.com/jquery-1.11.2.min.js"></script>
  <script src="../../_static/js/jquery.easy-autocomplete.min.js" type="text/javascript" ></script>

    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
  
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>
  <link href="../../_static/css/easy-autocomplete.min.css" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

  
  
    

  

  
  
    <link rel="stylesheet" href="../../_static/css/cobra.css" type="text/css" />
  

  
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  
    <link rel="stylesheet" href="../../_static/css/cobra.css" type="text/css" />
  

  
        <link rel="index" title="Index"
              href="../../genindex.html"/>
        <link rel="search" title="Search" href="../../search.html"/>
    <link rel="top" title="GRASP 2.0.0 documentation" href="../../index.html"/>
        <link rel="up" title="Ensemble functions" href="../ensemble_functions.html"/>
        <link rel="next" title="Fix variable names" href="fix_variable_names.html"/>
        <link rel="prev" title="Extract prior" href="extract_prior.html"/> 

  
  <script src="../../_static/js/modernizr.min.js"></script>
</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../index.html" class="icon icon-home"> GRASP
          

          
          </a>
          <h1>GRASP</h1>

          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" id="simple"/>
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
    <script>
    	var options = {

		url: "../../_static/json/functions.json",

		getValue: "name",

		list: {
            onKeyEnterEvent: function(item) {
                    return "_static/../" + item.website_url
            },
            maxNumberOfElements: 25,
			match: {
					enabled: true,
			},
            sort: {
			    enabled: true
		    }
		},

    	template: {
	    	type: "custom",
		    method: function(value, item) {
                return "<span><a href='../../search.html?q=" + item.name + "&check_keywords=yes&area=default'>" + value + "</a>" + "<a href='../../_static/../" + item.website_url + "' ><img src='../../_static/link.svg'/></a></span>";
		    }
	    },

		theme: "square"

	};

	$("#simple").easyAutocomplete(options);


    </script>
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
              <ul class="current">
                  <li class="toctree-l1"><a class="reference internal" href="../../index.html">Home</a></li>
              </ul>
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../how_to_build_a_model.html">How to build a model</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../model_analysis.html">Model analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../visualization.html">Visualizing results</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tutorials.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../troubleshoot.html">Troubleshooting</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../api_doc.html">API documentation</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../analysis_functions.html">Analysis functions</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../ensemble_functions.html">Ensemble functions</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="add_kinetic_fxns_to_path.html">Add kinetic functions to path</a></li>
<li class="toctree-l3"><a class="reference internal" href="build_ensemble.html">Build ensemble</a></li>
<li class="toctree-l3"><a class="reference internal" href="check_stability.html">Check stability</a></li>
<li class="toctree-l3"><a class="reference internal" href="compute_gibbs_free_energy_ranges.html">Compute Gibbs free energy ranges</a></li>
<li class="toctree-l3"><a class="reference internal" href="compute_robust_fluxes.html">Compute robust fluxes</a></li>
<li class="toctree-l3"><a class="reference internal" href="export_SBML.html">Export model to SBML</a></li>
<li class="toctree-l3"><a class="reference internal" href="extract_prior.html">Extract prior</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Find issues with TMFA</a></li>
<li class="toctree-l3"><a class="reference internal" href="fix_variable_names.html">Fix variable names</a></li>
<li class="toctree-l3"><a class="reference internal" href="general_HR.html">General Hit-and-Run sampler</a></li>
<li class="toctree-l3"><a class="reference internal" href="initial_sampler.html">Initial sampler</a></li>
<li class="toctree-l3"><a class="reference internal" href="initialize_ensemble.html">Initialize ensemble</a></li>
<li class="toctree-l3"><a class="reference internal" href="load_ensemble_structure.html">Load ensemble structure</a></li>
<li class="toctree-l3"><a class="reference internal" href="pool_constraint_fxn.html">Pool constraint function</a></li>
<li class="toctree-l3"><a class="reference internal" href="sample_allostery.html">Sample allostery</a></li>
<li class="toctree-l3"><a class="reference internal" href="sample_enzyme_abundances.html">Sample enzyme abundances</a></li>
<li class="toctree-l3"><a class="reference internal" href="sample_flux_and_gibbs_free_energies.html">Sample fluxes and Gibbs free energies for each model</a></li>
<li class="toctree-l3"><a class="reference internal" href="sample_general_reversibilities.html">Sample general reversibilities</a></li>
<li class="toctree-l3"><a class="reference internal" href="sample_modifier_elem_fluxes.html">Sample modifier elementary fluxes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../pattern_functions.html">Pattern functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../simulation_viz.html">Simulation visualization</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../how_to_contribute.html">How to contribute</a></li>
</ul>

          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">GRASP</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../../api_doc.html">API documentation</a> &raquo;</li>
        
          <li><a href="../ensemble_functions.html">Ensemble functions</a> &raquo;</li>
        
      <li>Find issues with TMFA</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../../_sources/api_doc/ensembleFxns/find_issues_with_TMFA.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="https://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="find-issues-with-tmfa">
<h1>Find issues with TMFA<a class="headerlink" href="#find-issues-with-tmfa" title="Permalink to this headline">¶</a></h1>
<dl class="mat function">
<dt class="sig sig-object mat" id="ensembleFxns.findIssuesWithTMFA">
<span class="sig-name descname"><span class="pre">findIssuesWithTMFA</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">ensemble</span></em>, <em class="sig-param"><span class="pre">DGr_std_min</span></em>, <em class="sig-param"><span class="pre">DGr_std_max</span></em>, <em class="sig-param"><span class="pre">vmin</span></em>, <em class="sig-param"><span class="pre">vmax</span></em>, <em class="sig-param"><span class="pre">xmin</span></em>, <em class="sig-param"><span class="pre">xmax</span></em>, <em class="sig-param"><span class="pre">ineqConstraints</span></em>, <em class="sig-param"><span class="pre">K</span></em>, <em class="sig-param"><span class="pre">RT</span></em>, <em class="sig-param"><span class="pre">delta</span></em>, <em class="sig-param"><span class="pre">M</span></em>, <em class="sig-param"><span class="pre">tol</span></em>, <em class="sig-param"><span class="pre">gurobiModel</span></em>, <em class="sig-param"><span class="pre">options</span></em>, <em class="sig-param"><span class="pre">params</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ensembleFxns.findIssuesWithTMFA" title="Permalink to this definition">¶</a></dt>
<dd><p>Finds out why the TMFA problem is infeasible.</p>
<p>This is done by first trying to find which reactions’ standard
Gibbs energies or metabolite concentrations are causing the
problem to be infeasible.
If no reactions nor metabolites are deemed to be the cause and
if the LP solver is set to gurobi, the MILP is written into
a text file and the function <cite>gurobi_iis</cite> is used to find
which constraints/variable bounds are causing the issue.</p>
<p>Problematic metabolites and/or reactions can be missed due to a
large K value, especially when using intlinprog (same issue as in
computeGibbsFreeEnergyRanges). Thus the loop for decreasing K values
when the lists of problematic reactions and metabolites are empty.</p>
<p><strong>Usage</strong></p>
<blockquote>
<div><p>findIssuesWithTMFA(ensemble,DGr_std_min,DGr_std_max,vmin,vmax,xmin,xmax,ineqConstraints,K,RT,delta,M,tol,gurobiModel,options,params)</p>
</div></blockquote>
<p><strong>Inputs</strong></p>
<blockquote>
<div><ul class="simple">
<li><p><strong>ensemble</strong> (<em>struct</em>) –
model ensemble, see buildEnsemble for fields description</p></li>
<li><p><strong>DGr_std_min</strong> (<em>double vector</em>) –
minimum values for standard reaction Gibbs energies</p></li>
<li><p><strong>DGr_std_max</strong> (<em>double vector</em>) –
maximum values for standard reaction Gibbs energies</p></li>
<li><p><strong>vmin</strong> (<em>double vector</em>) –
minimum values for reaction fluxes</p></li>
<li><p><strong>vmax</strong> (<em>double vector</em>) –
maximum values for reaction fluxes</p></li>
<li><p><strong>xmin</strong> (<em>double vector</em>) –
minimum values for metabolite concentrations</p></li>
<li><p><strong>xmax</strong> (<em>double vector</em>) –
maximu values for metabolite concentrations</p></li>
<li><p><strong>ineqConstraints</strong> (<em>double</em>) –
inequality constraints</p></li>
<li><p><strong>K</strong> (<em>double</em>) –
large value used in the MILP problem</p></li>
<li><p><strong>RT</strong> (<em>double</em>) –
value for the gas constant multiplied by the temperature (in Kelvin)</p></li>
<li><p><strong>delta</strong> (<em>double</em>) –
low value to use in the MILP problem</p></li>
<li><p><strong>M</strong> (<em>double</em>) –
large value to use in the MILP problem</p></li>
<li><p><strong>tol</strong> (<em>double</em>) –
tolerance value to use when comparing results to zero.</p></li>
<li><p><strong>gurobiModel</strong> (<em>struct</em>) –
MILP problem structure for gurobi</p></li>
<li><p><strong>options</strong> (<em>struct</em>) –
configurations for intlinprog</p></li>
<li><p><strong>params</strong> (<em>struct</em>) –
configurations for gurobi</p></li>
</ul>
</div></blockquote>
</dd></dl>

</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="fix_variable_names.html" class="btn btn-default float-right" title="Fix variable names" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="extract_prior.html" class="btn btn-default" title="Extract prior" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016-2019, The GRASP developers.

    </p>
  </div>
  Built with Sphinx using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'2.0.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
    <script type="text/javascript" src="../../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>

  


  
  
    <script type="text/javascript" src="../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>